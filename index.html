<!DOCTYPE html>
<html lang="es">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Torneo Age of Empires 2 - Fixture</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f4f4f4;
      }

      h1,
      h2 {
        text-align: center;
        color: #333;
      }

      .rules,
      .fixture,
      .ranking {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .fixture table {
        width: 100%;
        border-collapse: collapse;
      }

      .fixture table,
      .fixture th,
      .fixture td {
        border: 1px solid #ddd;
      }

      .fixture th,
      .fixture td {
        padding: 10px;
        text-align: center;
      }

      .columns {
        display: flex;
        justify-content: space-between;
      }

      .ranking table {
        width: 100%;
        border-collapse: collapse;
      }

      .ranking table,
      .ranking th,
      .ranking td {
        border: 1px solid #ddd;
      }

      .ranking th,
      .ranking td {
        padding: 10px;
        text-align: center;
      }
    </style>
  </head>

  <body>

    <h1>Torneo Age of Empires 2 - Definitive Edition</h1>

    <div class="rules">
      <h2>Reglas del Torneo</h2>
      <p><strong>Condición de victoria:</strong> Conquista</p>
      <p><strong>Límite de tiempo:</strong> 1 hora por partida (opcional)</p>
      <p><strong>Puntuación:</strong></p>
      <ul>
        <li>Victoria: 3 puntos</li>
        <li>Derrota: 0 puntos</li>
      </ul>
    </div>

    <div class="ranking">
      <h2>Clasificación Actual</h2>
      <table>
        <thead>
          <tr>
            <th>Jugador</th>
            <th>Puntos</th>
          </tr>
        </thead>
        <tbody id="ranking-body">
          <tr>
            <td>Alros</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Lolo</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Tortopulus</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Sarten</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Melkor</td>
            <td>0</td>
          </tr>
          <tr>
            <td>El Marqués</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Lvlaster</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Nifunifaz</td>
            <td>0</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="fixture">
      <h2>Fixture - Round Robin</h2>
      <div class="columns">
        <table>
          <thead>
            <tr>
              <th>Ronda</th>
              <th>Jugador 1</th>
              <th>Ganador</th>
              <th>Jugador 2</th>
            </tr>
          </thead>
          <tbody>
            <!-- Ronda 1 -->
            <tr>
              <td>Ronda 1</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onchange="guardarResultado('ronda1/Alros_vs_Lolo', 'Alros')"> Alros
                <input type="checkbox" onchange="guardarResultado('ronda1/Alros_vs_Lolo', 'Lolo')"> Lolo
              </td>
              <td>Lolo</td>
            </tr>
            <tr>
              <td>Ronda 1</td>
              <td>Tortopulus</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda1/Tortopulus_vs_Sarten', 'Tortopulus')">
                Tortopulus
                <input type="checkbox" onclick="guardarResultado('ronda1/Tortopulus_vs_Sarten', 'Sarten')"> Sarten
              </td>
              <td>Sarten</td>
            </tr>
            <tr>
              <td>Ronda 1</td>
              <td>Melkor</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda1/Melkor_vs_El Marqués', 'Melkor')"> Melkor
                <input type="checkbox" onclick="guardarResultado('ronda1/Melkor_vs_El Marqués', 'El Marqués')"> El
                Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <tr>Tortopulus_vs_El Marqués>Ronda 1</td>
              <td>Lvlaster</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda1/Lvlaster_vs_Nifunifaz', 'Lvlaster')"> Lvlaster
                <input type="checkbox" onclick="guardarResultado('ronda1/Lvlaster_vs_Nifunifaz', 'Nifunifaz')">
                Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>
            <!-- Ronda 2 -->
            <tr>
              <td>Ronda 2</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda2/Alros_vs_Tortopulus', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda2/Alros_vs_Tortopulus', 'Tortopulus')">
                Tortopulus
              </td>
              <td>Tortopulus</td>
            </tr>
            <tr>
              <td>Ronda 2</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda2/Lolo_vs_Melkor', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda2/Lolo_vs_Melkor', 'Melkor')"> Melkor
              </td>
              <td>Melkor</td>
            </tr>
            <tr>
              <td>Ronda 2</td>
              <td>Sarten</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda2/Sarten_vs_Lvlaster', 'Sarten')"> Sarten
                <input type="checkbox" onclick="guardarResultado('ronda2/Sarten_vs_Lvlaster', 'Lvlaster')"> Lvlaster
              </td>
              <td>Lvlaster</td>
            </tr>
            <tr>
              <td>Ronda 2</td>
              <td>El Marqués</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda2/El Marqués_vs_Nifunifaz', 'El Marqués')"> El
                Marqués
                <input type="checkbox" onclick="guardarResultado('ronda2/El Marqués_vs_Nifunifaz', 'Nifunifaz')">
                Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>

            <!-- Rondas 3 -->
            <tr>
              <td>Ronda 3</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda3/Alros_vs_Melkor', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda3/Alros_vs_Melkor', 'Melkor')"> Melkor
              <td>Melkor</td>
            </tr>
            <tr>
              <td>Ronda 3</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda3/Lolo_vs_Sarten', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda3/Lolo_vs_Sarten', 'Sarten')"> Sarten
              </td>
              <td>Sarten</td>
            </tr>
            <tr>
              <td>Ronda 3</td>
              <td>Tortopulus</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda3/Tortopulus_vs_El Marqués', 'Nifunifaz', '')">
                Tortopulus
                <input type="checkbox" onclick="guardarResultado('ronda3/Tortopulus_vs_El Marqués', 'El Marqués', '')">
                El Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <tr>
              <td>Ronda 3</td>
              <td>Lvlaster</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda3/Lvlaster_vs_Nifunifaz', 'Lvlaster')"> Lvlaster
                <input type="checkbox" onclick="guardarResultado('ronda3/Lvlaster_vs_Nifunifaz', 'Nifunifaz')">
                Nifunifaz
              </td>
              <td>Nifunifazronda4/</td>
            </tr>

            <!-- Ronda 4 -->
            <tr>
              <td>Ronda 4</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda4/Alros_vs_Sarten', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda4/Alros_vs_Sarten', 'Sarten')"> Sarten
              </td>
              <td>Sarten</td>
            </tr>
            <tr>
              <td>Ronda 4</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda4/Lolo_vs_Nifunifaz', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda4/Lolo_vs_Nifunifaz', 'Nifunifaz')"> Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>
            <tr>
              <td>Ronda 4</td>
              <td>Tortopulus </td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda4/Tortopulus_vs_Lvlaster', 'Tortopulus')">
                Tortopulus
                <input type="checkbox" onclick="guardarResultado('ronda4/Tortopulus_vs_Lvlaster', 'Lvlaster')"> Lvlaster
              </td>
              <td>Lvlaster</td>
            </tr>
            <tr>
              <td>Ronda 4</td>
              <td>Melkor </td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda4/Melkor_vs_El Marqués', 'Melkor')"> Melkor
                <input type="checkbox" onclick="guardarResultado('ronda4/Melkor_vs_El Marqués', 'El Marqués')"> EL
                Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <!-- Ronda 5 -->
            <tr>
              <td>Ronda 5</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda5/Alros_vs_Nifunifaz', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda5/Alros_vs_Nifunifaz', 'Nifunifaz')"> Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>
            <tr>
              <td>Ronda 5</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda5/Lolo_vs_El Marqués', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda5/Lolo_vs_El Marqués', 'El Marqués')"> El Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <tr>
              <td>Ronda 5</td>
              <td>Tortopulus</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda5/Tortopulus_vs_Melkor', 'Tortopulus')">
                Tortopulus
                <input type="checkbox" onclick="guardarResultado('ronda5/Tortopulus_vs_Melkor', 'Melkor')"> Melkor
              </td>
              <td>Melkor</td>
            </tr>
            <tr>
              <td>Ronda 5</td>
              <td>Sarten</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda5/Sarten_vs_Lvlaster', 'Sarten')"> Sarten
                <input type="checkbox" onclick="guardarResultado('ronda5/Sarten_vs_Lvlaster', 'Lvlaster')"> Lvlaster
              </td>
              <td>Lvlaster</td>
            </tr>
            <!-- Ronda 6 -->
            <tr>
              <td>Ronda 6</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda6/Alros_vs_Lvlaster', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda6/Alros_vs_Lvlaster', 'Lvlaster')"> Lvlaster
              </td>
              <td>Lvlaster</td>
            </tr>
            <tr>
              <td>Ronda 6</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda6/Lolo_vs_Tortopulus', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda6/Lolo_vs_Tortopulus', 'Tortopulus')"> Tortopulus
              </td>
              <td>Tortopulus</td>
            </tr>
            <tr>
              <td>Ronda 6</td>
              <td>Sarten</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda6/Sarten_vs_Nifunifaz', 'Sarten')"> Sarten
                <input type="checkbox" onclick="guardarResultado('ronda6/Sarten_vs_Nifunifaz', 'Nifunifaz')"> Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>
            <tr>
              <td>Ronda 6</td>
              <td>Melkor</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda6/Melkor_vs_El Marqués', 'Melkor')"> Melkor
                <input type="checkbox" onclick="guardarResultado('ronda6/Melkor_vs_El Marqués', 'El Marqués')"> El
                Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <!-- Ronda 7 -->
            <tr>
              <td>Ronda 7</td>
              <td>Alros</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda7/Alros_vs_El Marqués', 'Alros')"> Alros
                <input type="checkbox" onclick="guardarResultado('ronda7/Alros_vs_El Marqués', 'El Marqués')"> El
                Marqués
              </td>
              <td>El Marqués</td>
            </tr>
            <tr>
              <td>Ronda 7</td>
              <td>Lolo</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda7/Lolo_vs_Sarten', 'Lolo')"> Lolo
                <input type="checkbox" onclick="guardarResultado('ronda7/Lolo_vs_Sarten', 'Sarten')"> Sarten
              </td>
              <td>Sarten</td>
            </tr>
            <tr>
              <td>Ronda 7</td>
              <td>Tortopulus</td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda7/Tortopulus_vs_Nifunifaz', 'Tortopulus')">
                Tortopulus
                <input type="checkbox" onclick="guardarResultado('ronda7/Tortopulus_vs_Nifunifaz', 'Nifunifaz')">
                Nifunifaz
              </td>
              <td>Nifunifaz</td>
            </tr>
            <tr>
              <td>Ronda 7</td>
              <td>Melkor </td>
              <td>
                <input type="checkbox" onclick="guardarResultado('ronda7/Melkor_vs_Lvlaster', 'Melkor')"> Melkor
                <input type="checkbox" onclick="guardarResultado('ronda7/Melkor_vs_Lvlaster', 'Lvlaster')"> Lvlaster
              </td>
              <td>Lvlaster</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "firebase/app";
      import { getAnalytics } from "firebase/analytics";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBOm6fL5uvtQxa-cl9TcVi6jhfrc9C3fd8",
        authDomain: "torneoaoe-d39c4.firebaseapp.com",
        projectId: "torneoaoe-d39c4",
        storageBucket: "torneoaoe-d39c4.appspot.com",
        messagingSenderId: "518476517370",
        appId: "1:518476517370:web:a485e17aae3e2e9f165e43",
        measurementId: "G-DF72JC4VJY"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);

      // guardar resultado
      function guardarResultado(partida, ganador) {
        const partidaRef = firebase.database().ref('partidas/' + partida);
        const jugadorRef = firebase.database().ref('jugadores/' + ganador);

        // Guardar el ganador en la partida
        partidaRef.set({ ganador: ganador });

        // Actualizar puntos del ganador
        jugadorRef.get().then((snapshot) => {
          if (snapshot.exists()) {
            const puntosActuales = snapshot.val().puntos;
            jugadorRef.update({ puntos: puntosActuales + 3 });
          }
        });
      }

      // actualizar clasificación
      function actualizarClasificacion() {
        const jugadoresRef = firebase.database().ref('jugadores');

        jugadoresRef.on('value', (snapshot) => {
          const jugadores = snapshot.val();
          const tablaClasificacion = document.getElementById('tabla-clasificacion');
          tablaClasificacion.innerHTML = '';

          // Ordenar jugadores por puntos
          const jugadoresOrdenados = Object.keys(jugadores).sort((a, b) => {
            return jugadores[b].puntos - jugadores[a].puntos;
          });

          // Actualizar la tabla de clasificación
          jugadoresOrdenados.forEach((jugador) => {
            const fila = `<tr><td>${jugador}</td><td>${jugadores[jugador].puntos}</td></tr>`;
            tablaClasificacion.innerHTML += fila;
          });
        });
      }

      // Llamar a la función para actualizar la tabla
      actualizarClasificacion();


    </script>

  </body>

</html>

<!-- /*       // Cargar los puntos desde el localStorage, si existen
      const players = JSON.parse(localStorage.getItem('players')) || {
        'Alros': 0,
        'Lolo': 0,
        'Tortopulus': 0,
        'Sarten': 0,
        'Melkor': 0,
        'El Marqués': 0,
        'Lvlaster': 0,
        'Nifunifaz': 0
      };

      // Función para actualizar los puntos y guardarlos en localStorage
      function guardarResultado(winner, loser, isChecked) {
        if (isChecked) {
          players[winner] += 3;
        } else {
          players[winner] -= 3;
        }
        localStorage.setItem('players', JSON.stringify(players)); // Guardar en localStorage
        updateRanking();
      }

      // Función para actualizar el ranking en la tabla
      function updateRanking() {
        const rankingBody = document.getElementById('ranking-body');
        const sortedPlayers = Object.entries(players).sort((a, b) => b[1] - a[1]);
        rankingBody.innerHTML = '';
        sortedPlayers.forEach(([player, points]) => {
          rankingBody.innerHTML += `<tr><td>${player}</td><td>${points}</td></tr>`;
        });
      }

      // Inicializar el ranking al cargar la página
      window.onload = function () {
        updateRanking();
      }; */ -->